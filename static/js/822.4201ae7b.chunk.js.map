{"version":3,"file":"static/js/822.4201ae7b.chunk.js","mappings":"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","sources":["components/Setting/ChangePasswordDialog.js","components/Setting/Account.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Grid, TextField, Button } from '@mui/material'\r\nimport { useFormik } from 'formik'\r\nimport * as yup from 'yup'\r\nimport { AI_change_password } from 'API/userAPI'\r\nimport { useAIEventHandler, useInstance } from 'easy-redux-http-call'\r\nimport { enqueueSnackbar } from 'notistack'\r\n\r\nconst changePasswordSchema = yup.object().shape({\r\n  currentPassword: yup.string().transform(v => v.trim()).label(\"Password\").required('Required'),\r\n  newPassword: yup.string().transform(v => v.trim()).required('Required').label(\"New Password\").min(8),\r\n  confirmNewPassword: yup.string().transform(v => v.trim()).label(\"Confirm New Password\").min(8).required('Required').oneOf([yup.ref('newPassword'), null], 'Passwords must match')\r\n})\r\n\r\nexport default function ChangePasswordDialog(props) {\r\n  const { open, handleClose } = props\r\n\r\n  const changePasswordState = useInstance(AI_change_password)\r\n\r\n  const handleChangePassword = (values) => {\r\n    AI_change_password.call({\r\n      params: values\r\n    })\r\n  }\r\n\r\n  useAIEventHandler(\r\n    AI_change_password,\r\n    {\r\n      onSuccess: (res) => {\r\n        enqueueSnackbar(res?.data?.message, {\r\n          variant: 'success'\r\n        })\r\n        handleClose()\r\n      },\r\n      onError: (res) => {\r\n        enqueueSnackbar(res?.error?.message, {\r\n          variant: 'error'\r\n        })\r\n      }\r\n    }\r\n  )\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      currentPassword: '',\r\n      newPassword: '',\r\n      confirmNewPassword: ''\r\n    },\r\n    validationSchema: changePasswordSchema,\r\n    onSubmit: handleChangePassword\r\n  })\r\n  const { values, handleChange, handleBlur, touched, errors } = formik\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      formik.resetForm();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [open]);\r\n\r\n  const generateFormikProps = (key) => {\r\n    return {\r\n      fullWidth: true,\r\n      name: key,\r\n      value: values[key],\r\n      onChange: handleChange,\r\n      onBlur: handleBlur,\r\n      helperText: touched[key] && errors[key],\r\n      error: touched[key] && errors[key],\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Dialog fullWidth open={open} onClose={handleClose}>\r\n      <DialogTitle>Change Password</DialogTitle>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <DialogContent>\r\n          <Grid display=\"flex\" flexDirection=\"column\" gap={1}>\r\n            <TextField\r\n              {...generateFormikProps(\"currentPassword\")}\r\n              placeholder=\"Current Password\"\r\n              label=\"Current Password\"\r\n            />\r\n\r\n            <TextField\r\n              {...generateFormikProps(\"newPassword\")}\r\n              placeholder=\"New Password\"\r\n              label=\"New Password\"\r\n            />\r\n\r\n            <TextField\r\n              {...generateFormikProps(\"confirmNewPassword\")}\r\n              placeholder=\"Confirm New Password\"\r\n              label=\"Confirm New Password\"\r\n            />\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"text\">Cancel</Button>\r\n          <Button type=\"submit\" disabled={changePasswordState.loading}>Save</Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Avatar, Button, FormControl, Grid, InputLabel, MenuItem, Select, TextField } from '@mui/material'\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { AI_update_user_detail, AI_user_detail } from 'API/userAPI';\r\nimport { useInstance } from 'easy-redux-http-call';\r\nimport { useFormik } from 'formik';\r\nimport { generateFormikInput } from 'utils';\r\nimport * as yup from \"yup\";\r\nimport HeaderWrapper from 'components/Wrapper/HeaderWrapper';\r\nimport { LoadingAnimation } from 'containers/SuspenseFallback/SuspenseFallback';\r\nimport ChangePasswordDialog from './ChangePasswordDialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  dmUserProfileInfo: {\r\n    padding: theme.spacing(1.5),\r\n    borderRadius: theme.shape.borderRadius,\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n    marginTop: theme.spacing(1),\r\n    width: \"fit-content\",\r\n    margin: \"auto\",\r\n    \"&>div\": {\r\n      width: \"100px\",\r\n      height: \"100px\",\r\n    },\r\n  },\r\n  dmEditingProfile: {\r\n    \"&>div\": {\r\n      marginTop: theme.spacing(2),\r\n      width: \"100%\"\r\n    },\r\n  },\r\n  dmEditProfileIcon: {\r\n    position: \"absolute !important\",\r\n    right: 10,\r\n    top: 10,\r\n  },\r\n  dmUserAction: {\r\n    marginTop: theme.spacing(1),\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  }\r\n}))\r\n\r\nconst userProfileSchema = yup.object().shape({\r\n  name: yup.string().transform(v => v.trim()).label(\"Name\").required(\"Required\"),\r\n});\r\n\r\nlet init = {\r\n  name: \"\",\r\n  email: \"\",\r\n  timezone: ''\r\n}\r\n\r\nexport default function Account() {\r\n  const classes = useStyles()\r\n  const [initialState, setInitialState] = useState(init)\r\n  const [showChangePasswordDialog, setShowChangePasswordDialog] = useState(false)\r\n\r\n  const userState = useInstance(AI_user_detail)\r\n  const updateUserState = useInstance(AI_update_user_detail)\r\n\r\n  useEffect(() => {\r\n    if (userState?.data?.user) {\r\n      let user = userState?.data?.user\r\n      setInitialState({\r\n        name: user.name,\r\n        email: user.email,\r\n        timezone: user.timezone\r\n      })\r\n    }\r\n  }, [userState])\r\n\r\n\r\n  const handleUpdate = (value) => {\r\n    AI_update_user_detail.call({\r\n      params: value\r\n    })\r\n  }\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: initialState,\r\n    onSubmit: handleUpdate,\r\n    validationSchema: userProfileSchema,\r\n  });\r\n\r\n  return (\r\n    <HeaderWrapper backAction title=\"Account\">\r\n      {userState?.loading ? <LoadingAnimation /> :\r\n        <Grid>\r\n          <Grid className={classes.dmUserProfileInfo}>\r\n            <Avatar src={userState?.data?.user?.profileUrl} alt=\"profile-img\" >\r\n              {userState?.data?.user?.name?.[0]?.toUpperCase() || \"-\"}\r\n            </Avatar>\r\n          </Grid>\r\n          <Grid>\r\n            <Grid className={classes.dmEditingProfile}>\r\n              <TextField\r\n                {...generateFormikInput(formik, \"name\")}\r\n                fullWidth\r\n                label=\"Name\"\r\n                placeholder=\"Name\"\r\n              />\r\n              <TextField\r\n                {...generateFormikInput(formik, \"email\")}\r\n                disabled\r\n                fullWidth\r\n                label=\"Email\"\r\n                placeholder=\"Email\"\r\n              />\r\n\r\n\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"timezone-input\">Timezone</InputLabel>\r\n                <Select\r\n                  disabled\r\n                  defaultValue={formik.values.timezone}\r\n                  labelId=\"timezone-input\"\r\n                  label=\"Timezone\"\r\n                  value={formik.values.timezone}\r\n                >\r\n                  <MenuItem value=\"Asia/Kolkata\">Asia/Kolkata</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid className={classes.dmUserAction}>\r\n              <Button onClick={() => setShowChangePasswordDialog(true)}>Change Password</Button>\r\n              <Button\r\n                onClick={formik.handleSubmit}\r\n                type=\"submit\"\r\n                disabled={!formik.dirty || !formik.isValid || updateUserState.loading}\r\n              >\r\n                Save\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      }\r\n\r\n      <ChangePasswordDialog\r\n        open={showChangePasswordDialog}\r\n        handleClose={() => setShowChangePasswordDialog(false)}\r\n      />\r\n\r\n    </HeaderWrapper >\r\n  )\r\n}\r\n"],"names":["changePasswordSchema","yup","shape","currentPassword","transform","v","trim","label","required","newPassword","min","confirmNewPassword","oneOf","ChangePasswordDialog","props","open","handleClose","changePasswordState","useInstance","AI_change_password","useAIEventHandler","onSuccess","res","_res$data","enqueueSnackbar","data","message","variant","onError","_res$error","error","formik","useFormik","initialValues","validationSchema","onSubmit","values","params","handleChange","handleBlur","touched","errors","useEffect","resetForm","generateFormikProps","key","fullWidth","name","value","onChange","onBlur","helperText","_jsxs","Dialog","onClose","children","_jsx","DialogTitle","handleSubmit","DialogContent","Grid","display","flexDirection","gap","TextField","_objectSpread","placeholder","DialogActions","Button","onClick","type","disabled","loading","useStyles","makeStyles","theme","dmUserProfileInfo","padding","spacing","borderRadius","position","marginTop","width","margin","height","dmEditingProfile","dmEditProfileIcon","right","top","dmUserAction","justifyContent","userProfileSchema","init","email","timezone","Account","_userState$data3","_userState$data3$user","_userState$data4","_userState$data4$user","_userState$data4$user2","_userState$data4$user3","classes","_useState","useState","_useState2","_slicedToArray","initialState","setInitialState","_useState3","_useState4","showChangePasswordDialog","setShowChangePasswordDialog","userState","AI_user_detail","updateUserState","AI_update_user_detail","_userState$data","user","_userState$data2","enableReinitialize","HeaderWrapper","backAction","title","LoadingAnimation","className","Avatar","src","profileUrl","alt","toUpperCase","generateFormikInput","FormControl","InputLabel","id","Select","defaultValue","labelId","MenuItem","dirty","isValid"],"sourceRoot":""}