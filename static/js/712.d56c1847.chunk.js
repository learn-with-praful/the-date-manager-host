"use strict";(self.webpackChunkthe_date_manager=self.webpackChunkthe_date_manager||[]).push([[712],{9712:(e,l,n)=>{n.r(l),n.d(l,{default:()=>z});var i=n(2791),o=n(1889),d=n(890),r=n(4747),a=n(7715),t=n(7454),s=n(4457),u=n(1098),c=n(3400),v=n(5536),h=n(7247),m=n(7689),x=n(5224),p=n(8713),j=n(8403),g=n(3657),Z=n(5574),C=n(5661),f=n(9157),b=n(7123),k=n(6151),w=n(184);const V=e=>{var l,n,i,o;const{open:r,maxWidth:a="xs",title:t="title",message:s="message",handleClose:u=(()=>{}),handleConfirmation:c=(()=>{}),buttonProps:v={}}=e;return(0,w.jsxs)(Z.Z,{open:r,onClose:u,maxWidth:a,children:[(0,w.jsx)(C.Z,{children:t}),(0,w.jsx)(f.Z,{children:(0,w.jsx)(d.Z,{children:s})}),(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(k.Z,{variant:"text",color:"inherit",onClick:u,children:(null===v||void 0===v||null===(l=v.cancelButton)||void 0===l?void 0:l.text)||"Cancel"}),(0,w.jsx)(k.Z,{color:"error",onClick:c,...null===v||void 0===v?void 0:v.confirmButton,disabled:(null===v||void 0===v||null===(n=v.confirmButton)||void 0===n?void 0:n.disabled)||(null===v||void 0===v||null===(i=v.confirmButton)||void 0===i?void 0:i.loading),children:(null===v||void 0===v||null===(o=v.confirmButton)||void 0===o?void 0:o.text)||"Yes"})]})]})},y=(0,u.Z)((e=>({usersContainer:{display:"grid",gridTemplateColumns:"1",gridGap:8},dmUserCard:{background:e.palette.primary.main+"24",flex:1,padding:10,borderRadius:e.shape.borderRadius,position:"relative"},dmViewActionContainer:{position:"absolute",top:6,right:6},dmUserGroupsContainer:{width:"fit-content",display:"inline-block","&>div":{marginRight:4}}})));function z(){var e,l,n;const u=y(),Z=(0,m.s0)(),[C,f]=(0,i.useState)(!1),b=(0,t.fz)(r.NM),k=(0,t.fz)(r.gc),{searchValue:z}=(0,p.w)({placeholder:"Search user",key:"event-user"});(0,i.useEffect)((()=>{r.NM.call()}),[]);const N=(0,i.useMemo)((()=>{var e,l,n;if(!z)return null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.data;const i=null===z||void 0===z?void 0:z.toLowerCase();return(null===b||void 0===b||null===(l=b.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.map((e=>{var l;return e.name.toLowerCase().includes(i)||null!==e&&void 0!==e&&null!==(l=e.group)&&void 0!==l&&l.find((e=>{var l,n;return null===e||void 0===e||null===(l=e.name)||void 0===l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(i)}))?e:null})).filter((e=>e)))||[]}),[null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.data,z]);(0,t.UX)(r.gc,{onSuccess:()=>f(!1)});return(0,w.jsxs)(a.Z,{backAction:!0,title:"Users",children:[(0,w.jsx)(o.ZP,{className:u.usersContainer,children:null!==b&&void 0!==b&&b.loading?(0,w.jsx)(g.p,{}):null!==b&&void 0!==b&&null!==(l=b.data)&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&n.length?null!==N&&void 0!==N&&N.length?null===N||void 0===N?void 0:N.map((e=>{var l,n,i;return(0,w.jsxs)(o.ZP,{className:u.dmUserCard,children:[(0,w.jsxs)(d.Z,{variant:"h6",children:[(0,w.jsx)("b",{children:"Name: "}),e.name]}),(0,w.jsxs)(d.Z,{children:[(0,w.jsx)("b",{children:"Created At: "}),(0,s.p6)(e.createdAt)]}),(0,w.jsxs)(d.Z,{children:[(0,w.jsx)("b",{children:"Total events: "}),null===e||void 0===e||null===(l=e.events)||void 0===l?void 0:l.length]}),(0,w.jsxs)(d.Z,{children:[(0,w.jsx)("b",{children:"Groups: "}),(0,w.jsx)(o.ZP,{className:u.dmUserGroupsContainer,children:null!==e&&void 0!==e&&null!==(n=e.group)&&void 0!==n&&n.length?null===e||void 0===e||null===(i=e.group)||void 0===i?void 0:i.map((e=>(0,w.jsx)(x.v,{group:e},e._id))):"-"})]}),(0,w.jsxs)("div",{className:u.dmViewActionContainer,children:[(0,w.jsx)(c.Z,{size:"small",onClick:()=>f(e),disabled:k.loading,children:(0,w.jsx)(h.Z,{})}),(0,w.jsx)(c.Z,{size:"small",onClick:()=>{return l=e._id,void Z(`/person/view/${l}`);var l},children:(0,w.jsx)(v.Z,{})})]})]})})):(0,w.jsx)(j.Z,{}):(0,w.jsxs)(o.ZP,{display:"flex",justifyContent:"center",minHeight:"200px",flexDirection:"column",alignItems:"center",children:[(0,w.jsx)(d.Z,{children:"No user found"}),(0,w.jsx)(d.Z,{variant:"caption",children:"Create event user from home page."})]})}),(0,w.jsx)(V,{open:Boolean(C),handleClose:()=>f(!1),title:"Delete Event User",message:"Are you sure you want to delete this event user?",handleConfirmation:()=>{let e=C;r.gc.call({urlParams:{id:e._id}})},buttonProps:{loading:k.loading}})]})}},7247:(e,l,n)=>{var i=n(4836);l.Z=void 0;var o=i(n(5649)),d=n(184),r=(0,o.default)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");l.Z=r},5536:(e,l,n)=>{var i=n(4836);l.Z=void 0;var o=i(n(5649)),d=n(184),r=(0,o.default)((0,d.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");l.Z=r}}]);
//# sourceMappingURL=712.d56c1847.chunk.js.map