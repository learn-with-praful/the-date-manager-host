"use strict";(self.webpackChunkthe_date_manager=self.webpackChunkthe_date_manager||[]).push([[291],{9291:(r,s,e)=>{e.r(s),e.d(s,{default:()=>p});var a=e(2791),o=e(1889),n=e(890),d=e(8550),i=e(6151),l=e(1098),t=e(7715),w=e(2506),m=e(1724),u=e(6914),c=e(7454),h=e(7689),P=e(8518),v=e(3657),f=e(184);const g=(0,l.Z)((r=>({dmChangePasswordRoot:{marginTop:60,display:"flex",justifyContent:"center",alignItems:"center"},dmChangePasswordFormContainer:{width:"100%","&>p":{color:r.palette.grey[500],marginTop:5}},changePasswordForm:{marginTop:10,"&>div":{marginTop:10},"&>button":{marginTop:10,justifyContent:"space-between"}}})));function p(){const r=g(),s=(0,h.UO)(),e=(0,h.s0)(),l=(0,c.fz)(u.Hq),p=(0,c.fz)(u._r);(0,c.UX)(u._r,{onError:r=>{var s;(0,P.yv)(null===r||void 0===r||null===(s=r.error)||void 0===s?void 0:s.message,{variant:"error"}),e("/login")}}),(0,c.UX)(u.Hq,{onSuccess:r=>{var s;(0,P.yv)(null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message,{variant:"success"}),e("/login")},onError:r=>{var s;(0,P.yv)(null===r||void 0===r||null===(s=r.error)||void 0===s?void 0:s.message,{variant:"error"})}}),(0,a.useEffect)((()=>{u._r.call({params:{token:s.token}})}),[]);const C=(0,w.TA)({initialValues:{newPassword:"",confirmPassword:""},validationSchema:m.Ry({newPassword:m.Z_().label("New Password").min(8).required("Required"),confirmPassword:m.Z_().label("Confirm Password").min(8).oneOf([m.iH("newPassword"),null],"Passwords must match")}),onSubmit:r=>{u.Hq.call({params:{token:s.token,password:r.newPassword}})}});return(0,f.jsx)(t.Z,{children:null!==p&&void 0!==p&&p.loading?(0,f.jsx)(v.p,{}):(0,f.jsx)(o.ZP,{className:r.dmChangePasswordRoot,children:(0,f.jsxs)(o.ZP,{className:r.dmChangePasswordFormContainer,children:[(0,f.jsx)(n.Z,{variant:"h4",fontWeight:"600",children:"Reset password"}),(0,f.jsx)(n.Z,{variant:"body2",children:"Your new password must be different from previous used passwords."}),(0,f.jsxs)("form",{className:r.changePasswordForm,onSubmit:C.handleSubmit,children:[(0,f.jsx)(d.Z,{fullWidth:!0,autoFocus:!0,label:"New Password",type:"password",variant:"outlined",name:"newPassword",value:C.values.newPassword,onChange:C.handleChange,error:C.touched.newPassword&&Boolean(C.errors.newPassword),helperText:C.touched.newPassword&&C.errors.newPassword}),(0,f.jsx)(d.Z,{fullWidth:!0,label:"Confirm Password",type:"password",variant:"outlined",name:"confirmPassword",value:C.values.confirmPassword,onChange:C.handleChange,error:C.touched.confirmPassword&&Boolean(C.errors.confirmPassword),helperText:C.touched.confirmPassword&&C.errors.confirmPassword}),(0,f.jsx)(i.Z,{type:"submit",size:"large",disabled:l.loading||!C.dirty||!C.isValid,children:"Change Password"})]})]})})})}}}]);
//# sourceMappingURL=291.9dd9e8f3.chunk.js.map