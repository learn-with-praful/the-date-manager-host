"use strict";(self.webpackChunkthe_date_manager=self.webpackChunkthe_date_manager||[]).push([[291],{9291:function(r,e,s){s.r(e),s.d(e,{default:function(){return p}});var o=s(2791),a=s(1889),n=s(890),d=s(8550),i=s(6151),t=s(2455),l=s(7715),u=s(2506),w=s(2797),c=s(6914),m=s(7454),h=s(7689),f=s(8518),v=s(3657),P=s(184),g=(0,t.Z)((function(r){return{dmChangePasswordRoot:{marginTop:60,display:"flex",justifyContent:"center",alignItems:"center"},dmChangePasswordFormContainer:{width:"100%","&>p":{color:r.palette.grey[500],marginTop:5}},changePasswordForm:{marginTop:10,"&>div":{marginTop:10},"&>button":{marginTop:10,justifyContent:"space-between"}}}}));function p(){var r=g(),e=(0,h.UO)(),s=(0,h.s0)(),t=(0,m.fz)(c.Hq),p=(0,m.fz)(c._r);(0,m.UX)(c._r,{onError:function(r){var e;(0,f.yv)(null===r||void 0===r||null===(e=r.error)||void 0===e?void 0:e.message,{variant:"error"}),s("/login")}}),(0,m.UX)(c.Hq,{onSuccess:function(r){var e;(0,f.yv)(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.message,{variant:"success"}),s("/login")},onError:function(r){var e;(0,f.yv)(null===r||void 0===r||null===(e=r.error)||void 0===e?void 0:e.message,{variant:"error"})}}),(0,o.useEffect)((function(){c._r.call({params:{token:e.token}})}),[]);var C=(0,u.TA)({initialValues:{newPassword:"",confirmPassword:""},validationSchema:w.Ry({newPassword:w.Z_().label("New Password").min(8).required("Required"),confirmPassword:w.Z_().label("Confirm Password").min(8).oneOf([w.iH("newPassword"),null],"Passwords must match")}),onSubmit:function(r){c.Hq.call({params:{token:e.token,password:r.newPassword}})}});return(0,P.jsx)(l.Z,{children:null!==p&&void 0!==p&&p.loading?(0,P.jsx)(v.p,{}):(0,P.jsx)(a.ZP,{className:r.dmChangePasswordRoot,children:(0,P.jsxs)(a.ZP,{className:r.dmChangePasswordFormContainer,children:[(0,P.jsx)(n.Z,{variant:"h4",fontWeight:"600",children:"Reset password"}),(0,P.jsx)(n.Z,{variant:"body2",children:"Your new password must be different from previous used passwords."}),(0,P.jsxs)("form",{className:r.changePasswordForm,onSubmit:C.handleSubmit,children:[(0,P.jsx)(d.Z,{fullWidth:!0,autoFocus:!0,label:"New Password",type:"password",variant:"outlined",name:"newPassword",value:C.values.newPassword,onChange:C.handleChange,error:C.touched.newPassword&&Boolean(C.errors.newPassword),helperText:C.touched.newPassword&&C.errors.newPassword}),(0,P.jsx)(d.Z,{fullWidth:!0,label:"Confirm Password",type:"password",variant:"outlined",name:"confirmPassword",value:C.values.confirmPassword,onChange:C.handleChange,error:C.touched.confirmPassword&&Boolean(C.errors.confirmPassword),helperText:C.touched.confirmPassword&&C.errors.confirmPassword}),(0,P.jsx)(i.Z,{type:"submit",size:"large",disabled:t.loading||!C.dirty||!C.isValid,children:"Change Password"})]})]})})})}}}]);
//# sourceMappingURL=291.0cab5625.chunk.js.map